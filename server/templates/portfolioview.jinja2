{% extends "base.html" %}

{% block css %}
{% endblock %}

{% block script %}
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.min.js"></script>
{% endblock %}

{% block content %}
    <section id="main">
        <div class="container text-center">

            <div class="section-heading text-center">
                <br>
                <h2> Portfolio Views </h2>
                    <p class="text-muted"> Here is your custom built portfolio </p>
                <br>
            </div>


            <div class="col-lg-12">
                <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="overview-tab" data-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true"> Overview</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="risk-tab" data-toggle="tab" href="#purchase" role="tab" aria-controls="risk" aria-selected="false"> Risk Profile </a>
                    </li>
                </ul>


                <div class="tab-content col-lg-12 justify-content: center;align-items: flex-start;margin: auto" id="myTabContent">
                    <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
                    <br>
                    <br>

                        <div class="row">
                            <div class="col-md-12">
                            <h3> Asset Allocations </h3>
                                <p class="text-muted"> Here's how to split the dollars </p>
                                 <!-- {{pie}} -->
                            </div>
                            <br>
                        </div>

                        <div class="row">                    
                            <div class="col-md-12">
                                <h3> Backtested Portfolio Performance </h3>
                                <p class="text-muted"> Review what your returns would have been over the last few months </p>
                                <!-- {{plot}} -->
                            </div>
                            <br>
                        </div>
                    </div>
                </div>

                <div class="tab-content col-lg-12 justify-content: center;align-items: flex-start;margin: auto" id="myTabContent">
                    <div class="tab-pane fade show active" id="risk" role="tabpanel" aria-labelledby="risk-tab">
                    <br>
                    <br>

                    

                    
                    </div>
                </div>
            </div>

            <div class="col-lg-12">
                <form action="/saveportfolio" method="get">
                    <!-- Not Displayed -->
                    <div style="display: none;">
                        <input type="text" name="initialInvestment" value="{{ questionnaire["initialInvestment"] }}">
                        <input type="text" name="purchaseAmount" value="{{ questionnaire["purchaseAmount"] }}">
                        <input type="text" name="purchaseDate" value="{{ questionnaire["purchaseDate"] }}">
                        <input type="text" name="retirementAmount" value="{{ questionnaire["retirementAmount"] }}">
                        <input type="text" name="retirementDate" value="{{ questionnaire["retirementDate"] }}">
                        <input type="text" name="riskAppetite" value="{{ questionnaire["riskAppetite"] }}">
                        <input type="text" name="weightings_1" value="{{weightings_1.to_dict()}}">
                        <input type="text" name="weightings_2" value="{{weightings_2.to_dict()}}">
                        <input type="text" name="num_shares" value="{{num_shares.to_dict()}}">
                    </div>
                    <!-- Above is not displayed -->
                    
                    <input type="text" name="portfolioName" id="portfolioName" placeholder="Portfolio Name..." required>
                    <input type="submit" id="submit" value="Save">
                    <input type="submit" id="edit" formaction="/editportfolio" value="Edit" disabled>
                </form>
            </div>
        </div>
    </section>
{% endblock %}